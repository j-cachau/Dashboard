:root{--bg:#0f1420;--fg:#e9eef7;--muted:#b8c2d9;--card:#151c2c;--line:#23314d;--accent:#4da3ff}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);font:14px/1.5 system-ui,Segoe UI,Roboto,Arial}
header{display:flex;align-items:center;gap:12px;padding:16px 20px;border-bottom:1px solid var(--line);position:sticky;top:0;background:linear-gradient(0deg,rgba(15,20,32,.85),rgba(15,20,32,.85));backdrop-filter: blur(8px)}
.brand{display:flex;align-items:center;gap:10px;color:inherit;text-decoration:none}
header img{height:28px}
h1{font-size:18px;margin:0}
.tabs{display:flex;gap:12px;margin-left:12px}
.tabs a{color:var(--muted);text-decoration:none;padding:6px 10px;border-radius:8px}
.tabs a.active{color:var(--fg);background:#0e1524;border:1px solid var(--line)}
.pill{padding:4px 8px;border-radius:999px;border:1px solid var(--line);font-size:12px;color:var(--muted);margin-left:auto}
.wrap{padding:20px;max-width:1300px;margin:auto}
.grid{display:grid;gap:16px}
.grid.cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}
.grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
@media (max-width:1100px){.grid.cols-4{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:700px){.grid.cols-4,.grid.cols-2{grid-template-columns:1fr}}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px}
/* Altura fija para charts: evita que el layout se mueva */
:root { --chart-h: 300px; }  /* podÃ©s subir a 320 si querÃ©s */
/* Ocupa 2 columnas en grids de 2 cols o mÃ¡s */
.span-2 { grid-column: span 2; }

/* Un poco mÃ¡s alto para el line chart */
.chart-box.tall{
  height: 360px;
  max-height: 360px;
}
.chart-box{
  height: var(--chart-h);
  max-height: var(--chart-h);
  position: relative;
  overflow: hidden;   /* por si el plugin de labels se pasa 1-2px */
}

/* El canvas ocupa todo el contenedor, y NUNCA cambia su alto */
.chart-box canvas{
  display: block;
  width: 100% !important;
  height: 100% !important;     /* ðŸ”’ */
  max-height: 100% !important; /* ðŸ”’ */
}

/* Wrapper de alto fijo para charts */
.chart-h280 { height: 280px; }
.chart-h320 { height: 320px; }
.chart-h360 { height: 360px; }

/* MUY IMPORTANTE: el canvas debe estirar al 100% del alto de su wrapper */
.card .chart-h280 canvas,
.card .chart-h320 canvas,
.card .chart-h360 canvas,
.card canvas {
  display: block;
  width: 100% !important;
  height: 100% !important;   /* rompe el height:auto global si lo hubiera */
}

/* Si en algÃºn momento pusimos un reset como este, anularlo o dejarlo asÃ­: */
/* canvas { height: auto; }   <-- Evitarlo para charts */


/* Opcional: deja los cards sin desbordes visibles */
.card{ overflow: hidden; }
.kpi{display:flex;flex-direction:column;gap:6px}
.kpi .label{color:var(--muted);font-size:12px}
.kpi .value{font-size:28px;font-weight:700}
.kpi .sub{color:var(--muted);font-size:12px}
.card h3{margin:0 0 8px;font-size:14px;color:var(--muted);font-weight:600;letter-spacing:.2px}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;border-bottom:1px solid var(--line);text-align:left}
th{color:var(--muted);font-weight:600;font-size:12px}
tr:hover td{background:#121a2b}
.toolbar{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px}
input[type="text"],select{background:#0e1524;border:1px solid var(--line);color:var(--fg);padding:8px 10px;border-radius:10px}
.notice{background:#0e1524;border:1px dashed #2a3b5f;border-radius:12px;padding:10px 12px;color:#a9b7d0}
.view.hidden{display:none}
